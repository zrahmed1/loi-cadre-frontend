<mat-card>
  <mat-card-title>Rapports des Lois Cadres</mat-card-title>
  <mat-card-content>
    <div class="filter-bar">
      <mat-form-field appearance="outline">
        <mat-label>Filtrer par année</mat-label>
        <input
          matInput
          type="number"
          formControlName="selectedAnnee"
          placeholder="Ex: 2025"
        />
      </mat-form-field>
    </div>

    <table mat-table [dataSource]="lois" class="mat-elevation-z8">
      <ng-container matColumnDef="annee">
        <th mat-header-cell *matHeaderCellDef>Année</th>
        <td mat-cell *matCellDef="let loi">{{ loi.annee }}</td>
      </ng-container>

      <ng-container matColumnDef="intitule">
        <th mat-header-cell *matHeaderCellDef>Intitulé</th>
        <td mat-cell *matCellDef="let loi">{{ loi.intitule }}</td>
      </ng-container>

      <ng-container matColumnDef="statut">
        <th mat-header-cell *matHeaderCellDef>Statut</th>
        <td mat-cell *matCellDef="let loi">{{ loi.statut }}</td>
      </ng-container>

      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let loi">
          <button
            mat-icon-button
            color="primary"
            (click)="exportPDF(loi)"
            matTooltip="Exporter en PDF"
          >
            <mat-icon>picture_as_pdf</mat-icon>
          </button>
          <button
            mat-icon-button
            color="accent"
            (click)="exportExcel(loi)"
            matTooltip="Exporter en Excel"
          >
            <mat-icon>table_chart</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </mat-card-content>
</mat-card>
